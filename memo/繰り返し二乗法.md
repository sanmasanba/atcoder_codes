# 実装例
## 組み込み関数での実装
```Python
mod = 1000000007
res = 0
res = pow(x, n, mod)
print(res)
```

## 一般的なpow(x, n) 
```Python
def pow(x, n):
    res = 1
    #nが0になるまで
    while n:
        #ビットが立っているとき⇒２で割り切れないとき
        if n % 2:
            #処理をする
            res *= x
        #x**2にする。(例: x=3**2ならx=3**4になっている)
        x *= x
        #右ビットシフト
        n >>= 1
    return res

pow(X, N)
```

## 剰余を考える場合(mod = $10^7+1$)
```Python
mod = 1000000007
def mod_pow(x, n, mod):
    res = 1
    while n:
        if n % 2:
            res = res * x % mod
        x = x * x % mod
        n >>= 1
    return res

mod_pow(X, N, mod)
```

# 使える場面
- $X^N$を計算する
- $X^N mod 10^8+7$を求める

# 繰り返し2乗法のアイデア
ここでは、$5^{23}$について考えてみる。  
$5^{23}$を単純に展開した場合、$5^{23}=5 \times 5 \times 5 \times 5 \times 5 \times ...$といった感じに分解できる。ここで指数部をNとすれば、計算量は$(N)$になる。これを高速化する方法を考える。  

ここで指数部の数字に注目してみる。例えば、23という数字は、$23 = (10111)_2 = 2^4 + 2^2 + 2^1 + 2^0$のように表せる。したがって、$5^{23}$は$5^{23} = 5^{16 + 4 + 2 + 1} = 5^{16} \times 5^{4} \times 5^{2} \times 5^{1}$のように展開することができる。  
このようにすれば、実際に求めるのは、指数部の2進数表記の桁数分のループになるので、$O(\sqrt{N})$にまで計算量を減らすことができる。





